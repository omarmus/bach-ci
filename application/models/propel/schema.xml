<?xml version="1.0" encoding="utf-8"?>
<!--Autogenerated by PropelSchemaReverseTask class.-->
<database name="bach" defaultIdMethod="native">
  <table name="sys_files" phpName="SysFiles" idMethod="native">
    <column name="id_file" phpName="IdFile" type="INTEGER" sqlType="int(11) unsigned" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="filename" phpName="Filename" type="VARCHAR" size="255" required="false"/>
    <column name="title" phpName="Title" type="VARCHAR" size="100" required="false"/>
    <column name="type" phpName="Type" type="VARCHAR" size="20" required="false"/>
    <column name="fullpath" phpName="Fullpath" type="VARCHAR" size="255" required="false"/>
    <column name="size" phpName="Size" type="DECIMAL" size="20" scale="0" required="false" defaultValue="0"/>
    <column name="image_width" phpName="ImageWidth" type="INTEGER" required="false" defaultValue="0"/>
    <column name="image_height" phpName="ImageHeight" type="INTEGER" required="false" defaultValue="0"/>
    <column name="image_type" phpName="ImageType" type="VARCHAR" size="20" required="false"/>
    <column name="is_image" phpName="IsImage" type="VARCHAR" size="20" required="false" defaultValue="NO"/>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>
  <table name="sys_migrations" phpName="SysMigrations" idMethod="native">
    <column name="version" phpName="Version" type="INTEGER" size="3" primaryKey="true" required="true"/>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>
  <table name="sys_pages" phpName="SysPages" idMethod="native">
    <column name="id_page" phpName="IdPage" type="INTEGER" sqlType="int(11) unsigned" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="title" phpName="Title" type="VARCHAR" size="100" required="true"/>
    <column name="slug" phpName="Slug" type="VARCHAR" size="100" required="true"/>
    <column name="order" phpName="Order" type="INTEGER" sqlType="int(11) unsigned" required="true"/>
    <column name="id_parent" phpName="IdParent" type="INTEGER" sqlType="int(11) unsigned" required="false" defaultValue="0"/>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>
  <table name="sys_permissions" phpName="SysPermissions" idMethod="native">
    <column name="id_page" phpName="IdPage" type="INTEGER" sqlType="int(11) unsigned" primaryKey="true" required="true"/>
    <column name="id_rol" phpName="IdRol" type="INTEGER" sqlType="int(11) unsigned" primaryKey="true" required="true"/>
    <column name="create" phpName="Create" type="VARCHAR" size="3" required="false" defaultValue="NO"/>
    <column name="read" phpName="Read" type="VARCHAR" size="3" required="false" defaultValue="NO"/>
    <column name="update" phpName="Update" type="VARCHAR" size="3" required="false" defaultValue="NO"/>
    <column name="delete" phpName="Delete" type="VARCHAR" size="3" required="false" defaultValue="NO"/>
    <foreign-key foreignTable="sys_roles" name="sys_permissions_fk1" onDelete="RESTRICT" onUpdate="RESTRICT">
      <reference local="id_rol" foreign="id_rol"/>
    </foreign-key>
    <foreign-key foreignTable="sys_pages" name="sys_permissions_fk" onDelete="RESTRICT" onUpdate="RESTRICT">
      <reference local="id_page" foreign="id_page"/>
    </foreign-key>
    <index name="id_page">
      <index-column name="id_page"/>
    </index>
    <index name="id_rol">
      <index-column name="id_rol"/>
    </index>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>
  <table name="sys_roles" phpName="SysRoles" idMethod="native">
    <column name="id_rol" phpName="IdRol" type="INTEGER" sqlType="int(11) unsigned" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="name" phpName="Name" type="VARCHAR" size="50" required="false"/>
    <column name="description" phpName="Description" type="VARCHAR" size="255" required="false"/>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>
  <table name="sys_sessions" phpName="SysSessions" idMethod="native">
    <column name="session_id" phpName="SessionId" type="VARCHAR" size="40" primaryKey="true" required="true" defaultValue="0"/>
    <column name="ip_address" phpName="IpAddress" type="VARCHAR" size="45" required="true" defaultValue="0"/>
    <column name="user_agent" phpName="UserAgent" type="VARCHAR" size="120" required="true"/>
    <column name="last_activity" phpName="LastActivity" type="INTEGER" size="10" sqlType="int(10) unsigned" required="true" defaultValue="0"/>
    <column name="user_data" phpName="UserData" type="LONGVARCHAR" required="true"/>
    <index name="last_activity_idx">
      <index-column name="last_activity"/>
    </index>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>
  <table name="sys_users" phpName="SysUsers" idMethod="native">
    <column name="id_user" phpName="IdUser" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="username" phpName="Username" type="VARCHAR" size="50" required="false"/>
    <column name="password" phpName="Password" type="VARCHAR" size="255" required="false"/>
    <column name="email" phpName="Email" type="VARCHAR" size="100" required="false"/>
    <column name="first_name" phpName="FirstName" type="VARCHAR" size="50" required="false"/>
    <column name="last_name" phpName="LastName" type="VARCHAR" size="100" required="false"/>
    <column name="state" phpName="State" type="VARCHAR" size="20" required="false" defaultValue="CREATE"/>
    <column name="id_rol" phpName="IdRol" type="INTEGER" sqlType="int(11) unsigned" required="false"/>
    <column name="id_photo" phpName="IdPhoto" type="INTEGER" sqlType="int(11) unsigned" required="false"/>
    <column name="created" phpName="Created" type="TIMESTAMP" required="false"/>
    <column name="phone" phpName="Phone" type="CHAR" size="20" required="false"/>
    <column name="modified" phpName="Modified" type="TIMESTAMP" required="false"/>
    <column name="lang_code" phpName="LangCode" type="VARCHAR" size="10" required="false" defaultValue="EN"/>
    <column name="mobile" phpName="Mobile" type="VARCHAR" size="20" required="false"/>
    <foreign-key foreignTable="sys_roles" name="sys_users_fk" onDelete="RESTRICT" onUpdate="RESTRICT">
      <reference local="id_rol" foreign="id_rol"/>
    </foreign-key>
    <foreign-key foreignTable="sys_files" name="sys_users_fk1" onDelete="RESTRICT" onUpdate="RESTRICT">
      <reference local="id_photo" foreign="id_file"/>
    </foreign-key>
    <unique name="email">
      <unique-column name="email"/>
    </unique>
    <index name="id_rol">
      <index-column name="id_rol"/>
    </index>
    <index name="id_photo">
      <index-column name="id_photo"/>
    </index>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>
</database>
